FIRRTL version 1.2.0
circuit CLINT :
  module CLINT :
    input clock : Clock
    input reset : UInt<1>
    input io_interrupt_flag : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    input io_instruction_id : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    input io_instruction_address_if : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    input io_jump_flag : UInt<1> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    input io_jump_address : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    output io_id_interrupt_handler_address : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    output io_id_interrupt_assert : UInt<1> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    input io_csr_bundle_mstatus : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    input io_csr_bundle_mepc : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    input io_csr_bundle_mcause : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    input io_csr_bundle_mtvec : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    input io_csr_bundle_mie : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    output io_csr_bundle_mstatus_write_data : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    output io_csr_bundle_mepc_write_data : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    output io_csr_bundle_mcause_write_data : UInt<32> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]
    output io_csr_bundle_direct_write_enable : UInt<1> @[4-soc/src/main/scala/riscv/core/CLINT.scala 20:14]

    node interrupt_enable_global = bits(io_csr_bundle_mstatus, 3, 3) @[4-soc/src/main/scala/riscv/core/CLINT.scala 34:56]
    node interrupt_enable_timer = bits(io_csr_bundle_mie, 7, 7) @[4-soc/src/main/scala/riscv/core/CLINT.scala 35:52]
    node interrupt_enable_external = bits(io_csr_bundle_mie, 11, 11) @[4-soc/src/main/scala/riscv/core/CLINT.scala 36:52]
    node instruction_address = mux(io_jump_flag, io_jump_address, io_instruction_address_if) @[4-soc/src/main/scala/riscv/core/CLINT.scala 38:32]
    node _mstatus_disable_interrupt_T = bits(io_csr_bundle_mstatus, 31, 8) @[4-soc/src/main/scala/riscv/core/CLINT.scala 45:26]
    node _mstatus_disable_interrupt_T_1 = bits(io_csr_bundle_mstatus, 3, 3) @[4-soc/src/main/scala/riscv/core/CLINT.scala 45:58]
    node _mstatus_disable_interrupt_T_2 = cat(_mstatus_disable_interrupt_T, _mstatus_disable_interrupt_T_1) @[4-soc/src/main/scala/riscv/core/CLINT.scala 45:34]
    node _mstatus_disable_interrupt_T_3 = bits(io_csr_bundle_mstatus, 6, 4) @[4-soc/src/main/scala/riscv/core/CLINT.scala 45:86]
    node _mstatus_disable_interrupt_T_4 = cat(_mstatus_disable_interrupt_T_2, _mstatus_disable_interrupt_T_3) @[4-soc/src/main/scala/riscv/core/CLINT.scala 45:62]
    node _mstatus_disable_interrupt_T_5 = cat(_mstatus_disable_interrupt_T_4, UInt<1>("h0")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 45:93]
    node _mstatus_disable_interrupt_T_6 = bits(io_csr_bundle_mstatus, 2, 0) @[4-soc/src/main/scala/riscv/core/CLINT.scala 46:15]
    node mstatus_disable_interrupt = cat(_mstatus_disable_interrupt_T_5, _mstatus_disable_interrupt_T_6) @[4-soc/src/main/scala/riscv/core/CLINT.scala 45:105]
    node _mstatus_recover_interrupt_T = bits(io_csr_bundle_mstatus, 31, 8) @[4-soc/src/main/scala/riscv/core/CLINT.scala 49:26]
    node _mstatus_recover_interrupt_T_1 = cat(_mstatus_recover_interrupt_T, UInt<1>("h1")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 49:34]
    node _mstatus_recover_interrupt_T_2 = bits(io_csr_bundle_mstatus, 6, 4) @[4-soc/src/main/scala/riscv/core/CLINT.scala 49:70]
    node _mstatus_recover_interrupt_T_3 = cat(_mstatus_recover_interrupt_T_1, _mstatus_recover_interrupt_T_2) @[4-soc/src/main/scala/riscv/core/CLINT.scala 49:46]
    node _mstatus_recover_interrupt_T_4 = bits(io_csr_bundle_mstatus, 7, 7) @[4-soc/src/main/scala/riscv/core/CLINT.scala 49:101]
    node _mstatus_recover_interrupt_T_5 = cat(_mstatus_recover_interrupt_T_3, _mstatus_recover_interrupt_T_4) @[4-soc/src/main/scala/riscv/core/CLINT.scala 49:77]
    node _mstatus_recover_interrupt_T_6 = bits(io_csr_bundle_mstatus, 2, 0) @[4-soc/src/main/scala/riscv/core/CLINT.scala 50:15]
    node mstatus_recover_interrupt = cat(_mstatus_recover_interrupt_T_5, _mstatus_recover_interrupt_T_6) @[4-soc/src/main/scala/riscv/core/CLINT.scala 49:105]
    node _interrupt_source_enabled_T = bits(io_interrupt_flag, 0, 0) @[4-soc/src/main/scala/riscv/core/CLINT.scala 54:22]
    node interrupt_source_enabled = mux(_interrupt_source_enabled_T, interrupt_enable_timer, interrupt_enable_external) @[4-soc/src/main/scala/riscv/core/CLINT.scala 53:37]
    node _T = eq(io_instruction_id, UInt<32>("h73")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 59:26]
    node _T_1 = eq(io_instruction_id, UInt<32>("h100073")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 59:73]
    node _T_2 = or(_T, _T_1) @[4-soc/src/main/scala/riscv/core/CLINT.scala 59:52]
    node _io_csr_bundle_mcause_write_data_T = eq(UInt<32>("h73"), io_instruction_id) @[4-soc/src/main/scala/riscv/core/CLINT.scala 65:6]
    node _io_csr_bundle_mcause_write_data_T_1 = mux(_io_csr_bundle_mcause_write_data_T, UInt<4>("hb"), UInt<4>("ha")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 65:6]
    node _io_csr_bundle_mcause_write_data_T_2 = eq(UInt<32>("h100073"), io_instruction_id) @[4-soc/src/main/scala/riscv/core/CLINT.scala 65:6]
    node _io_csr_bundle_mcause_write_data_T_3 = mux(_io_csr_bundle_mcause_write_data_T_2, UInt<2>("h3"), _io_csr_bundle_mcause_write_data_T_1) @[4-soc/src/main/scala/riscv/core/CLINT.scala 65:6]
    node _T_3 = neq(io_interrupt_flag, UInt<8>("h0")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 74:32]
    node _T_4 = and(_T_3, interrupt_enable_global) @[4-soc/src/main/scala/riscv/core/CLINT.scala 74:57]
    node _T_5 = and(_T_4, interrupt_source_enabled) @[4-soc/src/main/scala/riscv/core/CLINT.scala 74:84]
    node _io_csr_bundle_mcause_write_data_T_4 = bits(io_interrupt_flag, 0, 0) @[4-soc/src/main/scala/riscv/core/CLINT.scala 77:63]
    node _io_csr_bundle_mcause_write_data_T_5 = mux(_io_csr_bundle_mcause_write_data_T_4, UInt<32>("h80000007"), UInt<32>("h8000000b")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 77:45]
    node _T_6 = eq(io_instruction_id, UInt<32>("h30200073")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 81:32]
    node _GEN_0 = mux(_T_6, mstatus_recover_interrupt, io_csr_bundle_mstatus) @[4-soc/src/main/scala/riscv/core/CLINT.scala 81:58 82:39 89:39]
    node _GEN_1 = mux(_T_6, io_csr_bundle_mepc, io_csr_bundle_mepc) @[4-soc/src/main/scala/riscv/core/CLINT.scala 81:58 83:39 90:39]
    node _GEN_2 = mux(_T_6, io_csr_bundle_mcause, io_csr_bundle_mcause) @[4-soc/src/main/scala/riscv/core/CLINT.scala 81:58 84:39 91:39]
    node _GEN_3 = mux(_T_6, UInt<1>("h1"), UInt<1>("h0")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 81:58 85:39 92:39]
    node _GEN_4 = mux(_T_6, io_csr_bundle_mepc, UInt<1>("h0")) @[4-soc/src/main/scala/riscv/core/CLINT.scala 81:58 87:39 94:39]
    node _GEN_5 = mux(_T_5, mstatus_disable_interrupt, _GEN_0) @[4-soc/src/main/scala/riscv/core/CLINT.scala 74:113 75:39]
    node _GEN_6 = mux(_T_5, instruction_address, _GEN_1) @[4-soc/src/main/scala/riscv/core/CLINT.scala 74:113 76:39]
    node _GEN_7 = mux(_T_5, _io_csr_bundle_mcause_write_data_T_5, _GEN_2) @[4-soc/src/main/scala/riscv/core/CLINT.scala 74:113 77:39]
    node _GEN_8 = mux(_T_5, UInt<1>("h1"), _GEN_3) @[4-soc/src/main/scala/riscv/core/CLINT.scala 74:113 78:39]
    node _GEN_9 = mux(_T_5, io_csr_bundle_mtvec, _GEN_4) @[4-soc/src/main/scala/riscv/core/CLINT.scala 74:113 80:39]
    node _GEN_10 = mux(_T_2, mstatus_disable_interrupt, _GEN_5) @[4-soc/src/main/scala/riscv/core/CLINT.scala 59:101 60:38]
    node _GEN_11 = mux(_T_2, instruction_address, _GEN_6) @[4-soc/src/main/scala/riscv/core/CLINT.scala 59:101 61:38]
    node _GEN_12 = mux(_T_2, _io_csr_bundle_mcause_write_data_T_3, _GEN_7) @[4-soc/src/main/scala/riscv/core/CLINT.scala 59:101 62:37]
    node _GEN_13 = mux(_T_2, UInt<1>("h1"), _GEN_8) @[4-soc/src/main/scala/riscv/core/CLINT.scala 59:101 71:39]
    node _GEN_14 = mux(_T_2, io_csr_bundle_mtvec, _GEN_9) @[4-soc/src/main/scala/riscv/core/CLINT.scala 59:101 73:39]
    io_id_interrupt_handler_address <= _GEN_14
    io_id_interrupt_assert <= _GEN_13
    io_csr_bundle_mstatus_write_data <= _GEN_10
    io_csr_bundle_mepc_write_data <= _GEN_11
    io_csr_bundle_mcause_write_data <= _GEN_12
    io_csr_bundle_direct_write_enable <= _GEN_13
